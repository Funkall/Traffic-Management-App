{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adams\\\\OneDrive\\\\Documents\\\\traffic-management-app\\\\frontend\\\\src\\\\components\\\\MapView.js\";\nimport React, { useEffect, useState } from 'react';\nimport { GoogleMap, LoadScript, Marker, Polygon } from '@react-google-maps/api';\nconst containerStyle = {\n  width: '100%',\n  height: '500px'\n};\nconst center = {\n  lat: -33.8688,\n  lng: 151.2093\n};\nconst MapView = () => {\n  const [markers, setMarkers] = useState([]);\n  const [zone, setZone] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:3000/api/traffic/plans/1/tgs').then(res => res.json()).then(data => {\n      const allMarkers = [...(data.signs || []), ...(data.cones || []), ...(data.barriers || []), ...(data.controllers || []), ...(data.controllerVehicles || []), ...(data.plantVehicles || []), ...(data.workers || [])];\n      setMarkers(allMarkers);\n      setZone(data.zone || []);\n    }).catch(err => console.error('Error loading TGS:', err));\n  }, []);\n  return /*#__PURE__*/React.createElement(LoadScript, {\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GoogleMap, {\n    mapContainerStyle: containerStyle,\n    center: center,\n    zoom: 17,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, markers.map((marker, index) => /*#__PURE__*/React.createElement(Marker, {\n    key: index,\n    position: {\n      lat: marker.lat,\n      lng: marker.lng\n    },\n    label: marker.type || marker.name || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  })), zone.length > 0 && /*#__PURE__*/React.createElement(Polygon, {\n    paths: zone,\n    options: {\n      fillColor: '#FF0000',\n      fillOpacity: 0.2,\n      strokeColor: '#FF0000',\n      strokeOpacity: 0.8,\n      strokeWeight: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  })));\n};\nexport default MapView;","map":{"version":3,"names":["React","useEffect","useState","GoogleMap","LoadScript","Marker","Polygon","containerStyle","width","height","center","lat","lng","MapView","markers","setMarkers","zone","setZone","fetch","then","res","json","data","allMarkers","signs","cones","barriers","controllers","controllerVehicles","plantVehicles","workers","catch","err","console","error","createElement","googleMapsApiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","zoom","map","marker","index","key","position","label","type","name","length","paths","options","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight"],"sources":["C:/Users/adams/OneDrive/Documents/traffic-management-app/frontend/src/components/MapView.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport { GoogleMap, LoadScript, Marker, Polygon } from '@react-google-maps/api';\n\nconst containerStyle = {\n  width: '100%',\n  height: '500px'\n};\n\nconst center = {\n  lat: -33.8688,\n  lng: 151.2093\n};\n\nconst MapView = () => {\n  const [markers, setMarkers] = useState([]);\n  const [zone, setZone] = useState([]);\n\n  useEffect(() => {\n    fetch('http://localhost:3000/api/traffic/plans/1/tgs')\n      .then(res => res.json())\n      .then(data => {\n        const allMarkers = [\n          ...(data.signs || []),\n          ...(data.cones || []),\n          ...(data.barriers || []),\n          ...(data.controllers || []),\n          ...(data.controllerVehicles || []),\n          ...(data.plantVehicles || []),\n          ...(data.workers || [])\n        ];\n        setMarkers(allMarkers);\n        setZone(data.zone || []);\n      })\n      .catch(err => console.error('Error loading TGS:', err));\n  }, []);\n\n  return (\n    <LoadScript googleMapsApiKey={process.env.REACT_APP_GOOGLE_MAPS_API_KEY}>\n      <GoogleMap mapContainerStyle={containerStyle} center={center} zoom={17}>\n        {markers.map((marker, index) => (\n          <Marker key={index} position={{ lat: marker.lat, lng: marker.lng }} label={marker.type || marker.name || ''} />\n        ))}\n        {zone.length > 0 && (\n          <Polygon\n            paths={zone}\n            options={{\n              fillColor: '#FF0000',\n              fillOpacity: 0.2,\n              strokeColor: '#FF0000',\n              strokeOpacity: 0.8,\n              strokeWeight: 2\n            }}\n          />\n        )}\n      </GoogleMap>\n    </LoadScript>\n  );\n};\n\nexport default MapView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}